<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-16">
    <meta name="viewport" content="initial-scale=1.0">
    <title>TTRPG Character Sheet Builder - Professional IDE</title>
<link rel="stylesheet" href="style.css"></link>
</head>
<body>
    <div class="ide-container">
        <div class="title-bar">
            <span class="logo">ğŸ®</span>
            <span>TTRPG Character Sheet Builder - Professional IDE</span>
        </div>

        <div class="menu-bar">
            <div class="menu-item" onclick="showFileMenu()">File</div>
            <div class="menu-item" onclick="showEditMenu()">Edit</div>
            <div class="menu-item" onclick="showViewMenu()">View</div>
            <div class="menu-item" onclick="showHelpMenu()">Help</div>
        </div>

        <div class="main-layout">
            <div class="activity-bar">
                <div class="activity-icon active" data-panel="explorer" title="Explorer" onclick="switchPanel('explorer')">ğŸ“</div>
                <div class="activity-icon" data-panel="components" title="Components" onclick="switchPanel('components')">ğŸ§©</div>
                <div class="activity-icon" data-panel="properties" title="Properties" onclick="switchPanel('properties')">âš™ï¸</div>
                <div class="activity-icon" data-panel="data" title="Data" onclick="switchPanel('data')">ğŸ“Š</div>
            </div>

            <div class="sidebar" id="sidebar">
                <div class="sidebar-header" id="sidebar-title">EXPLORER</div>
                <div class="sidebar-content" id="sidebar-content">
                    <div class="panel-content" id="explorer-panel">
                        <div class="component-section">
                            <div class="component-section-title">Sheet Structure</div>
                            <div id="sheet-tree">
                                <div style="color: #858585; font-size: 11px; text-align: center; padding: 20px;">
                                    No components added yet
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="panel-content" id="components-panel" style="display: none;">
                        <div class="component-section">
                            <div class="component-section-title">Layout</div>
                            <div class="component-item" draggable="true" data-type="row">
                                <span class="icon">ğŸ“‹</span>Row Container
                            </div>
                            <div class="component-item" draggable="true" data-type="column">
                                <span class="icon">ğŸ“Š</span>Column Container
                            </div>
                        </div>

                        <div class="component-section">
                            <div class="component-section-title">Form Elements</div>
                            <div class="component-item" draggable="true" data-type="text-input">
                                <span class="icon">ğŸ“</span>Text Input
                            </div>
                            <div class="component-item" draggable="true" data-type="number-input">
                                <span class="icon">ğŸ”¢</span>Number Input
                            </div>
                            <div class="component-item" draggable="true" data-type="textarea">
                                <span class="icon">ğŸ“„</span>Text Area
                            </div>
                            <div class="component-item" draggable="true" data-type="select">
                                <span class="icon">ğŸ“‹</span>Dropdown
                            </div>
                            <div class="component-item" draggable="true" data-type="checkbox">
                                <span class="icon">â˜‘ï¸</span>Checkbox
                            </div>
                        </div>

                        <div class="component-section">
                            <div class="component-section-title">Display</div>
                            <div class="component-item" draggable="true" data-type="label">
                                <span class="icon">ğŸ·ï¸</span>Label
                            </div>
                            <div class="component-item" draggable="true" data-type="calculated">
                                <span class="icon">ğŸ§®</span>Calculated Field
                            </div>
                            <div class="component-item" draggable="true" data-type="progress-bar">
                                <span class="icon">ğŸ“Š</span>Progress Bar
                            </div>
                        </div>

                        <div class="component-section">
                            <div class="component-section-title">Interactive</div>
                            <div class="component-item" draggable="true" data-type="dice-button">
                                <span class="icon">ğŸ²</span>Dice Roll Button
                            </div>
                            <div class="component-item" draggable="true" data-type="reference-button">
                                <span class="icon">ğŸ“š</span>Reference List Button
                            </div>
                            <div class="component-item" draggable="true" data-type="info-button">
                                <span class="icon">â„¹ï¸</span>Info Box Button
                            </div>
                        </div>
                    </div>

                    <div class="panel-content" id="properties-panel" style="display: none;">
                        <div id="properties-content">
                            <div style="color: #858585; font-size: 11px; text-align: center; padding: 20px;">
                                Select an item to edit its properties
                            </div>
                        </div>
                    </div>

                    <div class="panel-content" id="data-panel" style="display: none;">
                        <div class="component-section">
                            <div class="component-section-title">Sheet Data</div>
                            <button class="btn" onclick="showDataEditor()" style="width: 100%; margin-bottom: 10px;">
                                ğŸ“Š Edit JSON Data
                            </button>
                            <button class="btn btn-secondary" onclick="exportSheet()" style="width: 100%; margin-bottom: 10px;">
                                ğŸ’¾ Export Sheet
                            </button>
                            <button class="btn btn-secondary" onclick="importSheet()" style="width: 100%;">
                                ğŸ“ Import Sheet
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="editor-area">
                <div class="tab-bar">
                    <div class="editor-tab active">
                        <span>ğŸ“‹ Character Sheet</span>
                        <span class="close-btn" onclick="closeTab(this)">Ã—</span>
                    </div>
                </div>

                <div class="canvas-container">
                    <div class="canvas" id="canvas">
                        <div class="canvas-placeholder">
                            <h3>Start Building Your Character Sheet</h3>
                            <p>Drag components from the sidebar to begin</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="status-bar">
            <div class="status-left">
                <span id="component-count">Components: 0</span>
                <span id="sheet-status">Ready</span>
            </div>
            <div class="status-right">
                <span onclick="previewSheet()" style="cursor: pointer;">ğŸ‘ï¸ Preview</span>
                <span onclick="showGlobalCSS()" style="cursor: pointer;">ğŸ¨ CSS</span>
            </div>
        </div>
    </div>

    <div class="modal" id="dice-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ğŸ² Dice Roll Result</h3>
                <button class="modal-close" onclick="closeModal('dice-modal')">Ã—</button>
            </div>
            <div class="dice-result" id="dice-result"></div>
        </div>
    </div>

    <div class="modal" id="reference-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ğŸ“š Reference List</h3>
                <button class="modal-close" onclick="closeModal('reference-modal')">Ã—</button>
            </div>
            <div class="reference-list" id="reference-list"></div>
        </div>
    </div>

    <div class="modal" id="info-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="info-title">â„¹ï¸ Information</h3>
                <button class="modal-close" onclick="closeModal('info-modal')">Ã—</button>
            </div>
            <div id="info-content"></div>
        </div>
    </div>

    <div class="modal" id="preview-modal">
        <div class="modal-content" style="max-width: 95%; max-height: 95%;">
            <div class="modal-header">
                <h3>ğŸ‘ï¸ Sheet Preview</h3>
                <button class="modal-close" onclick="closeModal('preview-modal')">Ã—</button>
            </div>
            <div id="preview-content" style="background: white; color: black; padding: 20px; border-radius: 6px;"></div>
        </div>
    </div>

    <div class="modal" id="data-modal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h3>ğŸ“Š Sheet Data Editor</h3>
                <button class="modal-close" onclick="closeModal('data-modal')">Ã—</button>
            </div>
            <textarea class="code-editor" id="data-editor" placeholder="Edit your sheet's JSON data here..."></textarea>
            <div style="margin-top: 15px; display: flex; gap: 10px;">
                <button class="btn" onclick="saveSheetData()">ğŸ’¾ Save Changes</button>
                <button class="btn btn-secondary" onclick="formatJSON()">âœ¨ Format JSON</button>
                <button class="btn btn-secondary" onclick="validateJSON()">âœ“ Validate</button>
            </div>
        </div>
    </div>

    <div class="modal" id="css-modal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h3>ğŸ¨ Global CSS Styles</h3>
                <button class="modal-close" onclick="closeModal('css-modal')">Ã—</button>
            </div>
            <textarea class="code-editor" id="css-editor" placeholder="/* Add your custom CSS styles here */"></textarea>
            <div style="margin-top: 15px; display: flex; gap: 10px;">
                <button class="btn" onclick="applyGlobalCSS()">ğŸ¨ Apply Styles</button>
                <button class="btn btn-secondary" onclick="resetCSS()">ğŸ”„ Reset</button>
            </div>
        </div>
    </div>
    
    <script src="./main.js" ></script>

</body>    
</html>